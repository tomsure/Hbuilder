 <!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<style type="text/css">
		.dv{
			
		}
	</style>
	<script type="text/javascript">
		window.onload=function(){
			var xhr;
			if(window.XMLHttpRequest){
				xhr=new XMLHttpRequest()
			}else{
				xhr=new ActiveXObject('Misrosoft.HTTP')
			}
			xhr.onreadystatechange=function(){
				if(xhr.readyState==4){
					if(xhr.status==200){
						alert(xhr.responseText)
					}
				}
			}
			xhr.open('GET','index.php',false)
			xhr.send()
		}
		
		
		
		
	</script>
	<body>
		<div class="dv" style="width:100px;height: 100px;background: red;">
			
		</div>
	</body>
 <!--此页面结构：js(包括ajax，使用ajax同步请求)在上，body里面一个 div在下；有一个php文件让他延迟响应10秒来 模拟网络延迟，使用ajax xhr发送请求访问php文件；-->
 <!--此页面现象： 打开页面后不会立即显示div，页面地址栏显示在加载状态；十秒钟时候才会显示div元素-->
   <!--此现象分析，由于使用同步：js语句和DOM结构从上往下执行，当遇到js的时候，js要读取php文件，而php文件十秒之后才会给出响应，所以页面执行到这的时候就会一直等待响应，后面的js和html都不会执行，只有等待这里响应完成之后，才会继续加载网页，所以就会造成页面打开不会立即显示div-->
  
     <!--这里js执行队列正常运行，就会是此种情况-->
   
   
</html>
